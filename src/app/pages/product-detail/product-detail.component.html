<div *ngIf="product; else loading" class="max-w-6xl mx-auto p-6">
  
  <!-- Encabezado estilo Pok√©dex -->
  <div class="mb-6 flex items-center gap-3">
    <div class="flex gap-2">
      <div class="w-4 h-4 bg-red-500 rounded-full shadow-lg animate-pulse"></div>
      <div class="w-4 h-4 bg-yellow-400 rounded-full shadow-lg"></div>
      <div class="w-4 h-4 bg-green-500 rounded-full shadow-lg"></div>
    </div>
    <div class="h-1 flex-grow bg-gradient-to-r from-red-500 via-yellow-400 to-blue-500 rounded-full"></div>
  </div>

  <!-- Contenido principal con grid -->
  <div class="grid md:grid-cols-2 gap-10">

    <!-- IMAGEN DEL PRODUCTO -->
    <div class="relative group">
      <!-- Contenedor estilo Pok√©dex -->
      <div class="relative bg-gradient-to-br from-red-500 to-red-600 p-6 rounded-3xl shadow-2xl border-4 border-red-700">
        
        <!-- Pantalla del Pok√©dex -->
        <div class="relative bg-gradient-to-br from-cyan-400 to-cyan-500 p-1 rounded-2xl">
          <div class="bg-white rounded-xl overflow-hidden shadow-inner">
            <img 
              [src]="product.image" 
              [alt]="product.name"
              class="w-full h-auto object-contain p-8 group-hover:scale-110 transition-transform duration-500" 
            />
          </div>
          
          <!-- Reflejo de pantalla -->
          <div class="absolute top-4 left-4 w-16 h-16 bg-white opacity-20 rounded-full blur-xl"></div>
        </div>

        <!-- Botones decorativos del Pok√©dex -->
        <div class="mt-4 flex justify-center gap-3">
          <div class="w-12 h-12 bg-blue-500 rounded-full shadow-lg border-4 border-blue-700"></div>
          <div class="w-8 h-8 bg-red-400 rounded-full shadow-lg border-2 border-red-600 self-center"></div>
          <div class="w-8 h-8 bg-yellow-400 rounded-full shadow-lg border-2 border-yellow-600 self-center"></div>
          <div class="w-8 h-8 bg-green-400 rounded-full shadow-lg border-2 border-green-600 self-center"></div>
        </div>

        <!-- Rejilla decorativa -->
        <div class="absolute bottom-6 right-6 grid grid-cols-3 gap-1">
          <div class="w-2 h-2 bg-red-800 rounded-full" *ngFor="let dot of [1,2,3,4,5,6]"></div>
        </div>
      </div>

      <!-- Badge "Capturalo" -->
      <div class="absolute -top-3 -right-3 bg-gradient-to-r from-yellow-400 to-yellow-500 text-red-700 font-black text-sm px-4 py-2 rounded-full shadow-xl border-3 border-yellow-600 animate-bounce flex items-center gap-1">
        <span>‚ö°</span>
        <span>¬°C√ÅPTURALO!</span>
      </div>
    </div>

    <!-- INFORMACI√ìN DEL PRODUCTO -->
    <div class="flex flex-col">
      
      <!-- Nombre del producto estilo Pok√©mon -->
      <div class="mb-4">
        <h1 class="text-4xl md:text-5xl font-black mb-2 bg-gradient-to-r from-red-600 via-yellow-500 to-blue-600 bg-clip-text text-transparent drop-shadow-lg" 
            style="font-family: 'Arial Black', sans-serif; letter-spacing: 1px;">
          {{ product.name }}
        </h1>
        
        <!-- L√≠nea decorativa -->
        <div class="flex items-center gap-2 mt-2">
          <div class="h-1 w-20 bg-gradient-to-r from-red-500 to-yellow-400 rounded-full"></div>
          <div class="flex gap-1">
            <div class="w-2 h-2 bg-red-500 rounded-full"></div>
            <div class="w-2 h-2 bg-yellow-400 rounded-full"></div>
            <div class="w-2 h-2 bg-blue-500 rounded-full"></div>
          </div>
        </div>
      </div>

      <!-- Descripci√≥n -->
      <div class="bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-gray-800 dark:to-gray-900 p-4 rounded-xl border-2 border-blue-200 dark:border-gray-700 mb-4">
        <p class="text-gray-700 dark:text-gray-300 leading-relaxed">
          {{ product.desc || 'Sin descripci√≥n disponible.' }}
        </p>
      </div>

      <!-- Precio estilo Pok√©mon -->
      <div class="bg-gradient-to-br from-yellow-50 to-amber-50 dark:from-gray-800 dark:to-gray-900 p-6 rounded-2xl border-4 border-yellow-400 mb-6 shadow-xl relative overflow-hidden">
        <div class="absolute top-0 right-0 text-6xl opacity-10">üí∞</div>
        <div class="relative z-10">
          <p class="text-sm font-bold text-gray-600 dark:text-gray-400 mb-1 flex items-center gap-2">
            <span>‚≠ê</span>
            <span>PRECIO ESPECIAL</span>
          </p>
          <div class="text-5xl font-black bg-gradient-to-r from-red-600 via-yellow-500 to-red-600 bg-clip-text text-transparent">
            ${{ product.price }}
          </div>
        </div>
      </div>

      <!-- BOT√ìN AGREGAR AL CARRITO -->
      <button 
        (click)="openModal()" 
        class="relative w-full bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white font-black text-lg px-8 py-4 rounded-2xl shadow-2xl hover:shadow-red-500/50 transform hover:scale-105 transition-all duration-300 border-4 border-red-700 overflow-hidden group/btn">
        
        <!-- Efecto de brillo -->
        <span class="absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-0 group-hover/btn:opacity-30 group-hover/btn:animate-shimmer"></span>
        
        <span class="relative flex items-center justify-center gap-3">
          <span class="text-2xl">‚ö°</span>
          <span>AGREGAR AL CARRITO</span>
          <span class="text-2xl">‚ö°</span>
        </span>
      </button>

      <!-- MODAL -->
      <app-quantity-modal 
        *ngIf="showModal"
        [product]="product"
        (close)="closeModal()"
        (confirm)="addQty($event)">
      </app-quantity-modal>

      <!-- ESPECIFICACIONES ESTILO POK√âDEX -->
      <div class="mt-10">
        <div class="flex items-center gap-3 mb-4">
          <h2 class="text-2xl font-black text-gray-800 dark:text-white" style="font-family: 'Arial Black', sans-serif;">
            ESPECIFICACIONES
          </h2>
          <div class="h-1 flex-grow bg-gradient-to-r from-blue-500 to-transparent rounded-full"></div>
        </div>

        <!-- Tabla estilo Pok√©dex con dise√±o mejorado -->
        <div class="bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-900 rounded-2xl shadow-xl border-4 border-blue-500 overflow-hidden">
          <table class="w-full">
            <tbody>

              <tr class="border-b-2 border-blue-200 dark:border-gray-700 hover:bg-blue-50 dark:hover:bg-gray-800 transition-colors">
                <td class="p-4 font-bold text-blue-700 dark:text-blue-400 flex items-center gap-2">
                  <span class="text-xl">üì±</span>
                  <span>Pantalla</span>
                </td>
                <td class="p-4 text-gray-700 dark:text-gray-300 font-medium">
                  {{ product.details?.pantalla || '‚Äî' }}
                </td>
              </tr>

              <tr class="border-b-2 border-blue-200 dark:border-gray-700 hover:bg-blue-50 dark:hover:bg-gray-800 transition-colors">
                <td class="p-4 font-bold text-blue-700 dark:text-blue-400 flex items-center gap-2">
                  <span class="text-xl">üì∑</span>
                  <span>C√°mara</span>
                </td>
                <td class="p-4 text-gray-700 dark:text-gray-300 font-medium">
                  {{ product.details?.camara || '‚Äî' }}
                </td>
              </tr>

              <tr class="border-b-2 border-blue-200 dark:border-gray-700 hover:bg-blue-50 dark:hover:bg-gray-800 transition-colors">
                <td class="p-4 font-bold text-blue-700 dark:text-blue-400 flex items-center gap-2">
                  <span class="text-xl">üîã</span>
                  <span>Bater√≠a</span>
                </td>
                <td class="p-4 text-gray-700 dark:text-gray-300 font-medium">
                  {{ product.details?.bateria || '‚Äî' }}
                </td>
              </tr>

              <tr class="border-b-2 border-blue-200 dark:border-gray-700 hover:bg-blue-50 dark:hover:bg-gray-800 transition-colors">
                <td class="p-4 font-bold text-blue-700 dark:text-blue-400 flex items-center gap-2">
                  <span class="text-xl">‚öôÔ∏è</span>
                  <span>Procesador</span>
                </td>
                <td class="p-4 text-gray-700 dark:text-gray-300 font-medium">
                  {{ product.details?.procesador || '‚Äî' }}
                </td>
              </tr>

              <tr class="hover:bg-blue-50 dark:hover:bg-gray-800 transition-colors">
                <td class="p-4 font-bold text-blue-700 dark:text-blue-400 flex items-center gap-2">
                  <span class="text-xl">üíæ</span>
                  <span>Almacenamiento</span>
                </td>
                <td class="p-4 text-gray-700 dark:text-gray-300 font-medium">
                  {{ product.details?.almacenamiento || '‚Äî' }}
                </td>
              </tr>

            </tbody>
          </table>
        </div>
      </div>

    </div>
  </div>
</div>

<!-- LOADING ESTILO POK√âMON -->
<ng-template #loading>
  <div class="flex flex-col items-center justify-center py-20">
    <!-- Pok√©ball girando -->
    <div class="relative w-24 h-24 mb-6 animate-spin-slow">
      <div class="w-full h-full rounded-full bg-gradient-to-br from-red-500 to-red-600 relative shadow-2xl">
        <div class="absolute top-1/2 left-0 right-0 h-3 bg-gray-900 transform -translate-y-1/2"></div>
        <div class="absolute top-1/2 left-1/2 w-10 h-10 bg-white rounded-full border-4 border-gray-900 transform -translate-x-1/2 -translate-y-1/2 shadow-lg"></div>
      </div>
    </div>
    
    <p class="text-2xl font-bold bg-gradient-to-r from-red-600 via-yellow-500 to-blue-600 bg-clip-text text-transparent animate-pulse">
      Cargando producto...
    </p>
    <p class="text-sm text-gray-500 dark:text-gray-400 mt-2">
      ‚ö° Preparando tu Pok√©dex ‚ö°
    </p>
  </div>
</ng-template>

<style>
@keyframes shimmer {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
}

.animate-shimmer {
  animation: shimmer 1.5s infinite;
}

@keyframes spin-slow {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

.animate-spin-slow {
  animation: spin-slow 2s linear infinite;
}
</style>