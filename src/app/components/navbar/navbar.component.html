<nav class="relative bg-gradient-to-r from-red-600 via-red-500 to-red-600 dark:from-red-800 dark:via-red-700 dark:to-red-800 shadow-2xl border-b-4 border-yellow-400">
  
  <!-- PatrÃ³n de fondo sutil -->
  <div class="absolute inset-0 opacity-10" style="background-image: repeating-linear-gradient(45deg, transparent, transparent 20px, #FFDE00 20px, #FFDE00 21px);"></div>

  <div class="relative z-10 max-w-7xl mx-auto px-4 py-3">
    <div class="flex items-center justify-between">

      <!-- Logo estilo PokÃ©mon -->
      <a routerLink="/" class="flex items-center gap-3 group">
        <!-- PokÃ©ball mini -->
        <div class="relative w-10 h-10 group-hover:rotate-180 transition-transform duration-500">
          <div class="w-full h-full rounded-full bg-gradient-to-br from-white to-gray-200 relative shadow-lg border-2 border-gray-800">
            <div class="absolute top-1/2 left-0 right-0 h-1 bg-gray-900 transform -translate-y-1/2"></div>
            <div class="absolute top-1/2 left-1/2 w-4 h-4 bg-white rounded-full border-2 border-gray-900 transform -translate-x-1/2 -translate-y-1/2"></div>
          </div>
        </div>
        
        <!-- Texto del logo -->
        <span class="text-2xl md:text-3xl font-black text-white drop-shadow-lg group-hover:scale-110 transition-transform" 
              style="font-family: 'Arial Black', sans-serif; letter-spacing: 1px; text-shadow: 2px 2px 4px rgba(0,0,0,0.3);">
          PokÃ©Shop
        </span>
        
        <!-- Badge "BETA" o decorativo -->
        <span class="hidden sm:inline-block bg-yellow-400 text-red-700 text-xs font-black px-2 py-1 rounded-full border-2 border-yellow-500 shadow-lg">
          âš¡ SHOP
        </span>
      </a>

      <!-- Links Desktop -->
      <div class="hidden md:flex items-center gap-2">
        <a 
          routerLink="/products" 
          routerLinkActive="bg-yellow-400 text-red-700 scale-110" 
          class="px-4 py-2 rounded-xl font-bold text-white hover:bg-yellow-400 hover:text-red-700 transition-all duration-300 flex items-center gap-2 border-2 border-transparent hover:border-yellow-500 shadow-lg">
          <span class="text-lg">ğŸ“±</span>
          <span>Productos</span>
        </a>

        <a 
          routerLink="/admin" 
          *ngIf="user?.role === 'admin'" 
          routerLinkActive="bg-blue-500 scale-110"
          class="px-4 py-2 rounded-xl font-bold text-white bg-blue-600 hover:bg-blue-500 transition-all duration-300 flex items-center gap-2 border-2 border-blue-700 shadow-lg">
          <span class="text-lg">âš™ï¸</span>
          <span>Admin</span>
        </a>
      </div>

      <!-- Acciones derechas -->
      <div class="flex items-center gap-3">

        <!-- Ãcono Carrito con efecto -->
        <a 
          routerLink="/cart" 
          class="relative group/cart bg-white dark:bg-gray-800 p-2 rounded-full hover:scale-110 transition-all duration-300 shadow-lg border-2 border-yellow-400 hover:border-yellow-500">
          <app-cart-icon></app-cart-icon>
          
          <!-- Efecto de brillo al hover -->
          <div class="absolute -top-1 -right-1 w-3 h-3 bg-yellow-400 rounded-full opacity-0 group-hover/cart:opacity-100 animate-ping"></div>
        </a>

        <!-- Usuario logueado -->
        <ng-container *ngIf="user; else guest">
          <div class="hidden sm:flex items-center gap-2 bg-white dark:bg-gray-800 px-4 py-2 rounded-xl border-2 border-yellow-400 shadow-lg">
            <span class="text-xl">ğŸ‘¤</span>
            <span class="font-bold text-gray-800 dark:text-white">{{ user.name }}</span>
          </div>

          <button 
            (click)="logout()" 
            class="bg-gradient-to-r from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700 text-white font-bold px-4 py-2 rounded-xl transition-all duration-300 transform hover:scale-105 shadow-lg border-2 border-red-700 flex items-center gap-2">
            <span class="text-lg">ğŸšª</span>
            <span class="hidden sm:inline">Salir</span>
          </button>
        </ng-container>

        <!-- Invitado -->
        <ng-template #guest>
          <a 
            routerLink="/login" 
            class="bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-bold px-5 py-2 rounded-xl transition-all duration-300 transform hover:scale-105 shadow-lg border-2 border-blue-700 flex items-center gap-2">
            <span class="text-lg">âš¡</span>
            <span>Entrar</span>
          </a>
        </ng-template>

        <!-- BotÃ³n menÃº mÃ³vil (hamburguesa) -->
        <button 
          (click)="toggleMenu()"
          class="md:hidden bg-yellow-400 text-red-700 p-2 rounded-lg border-2 border-yellow-500 shadow-lg hover:scale-110 transition-transform">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path *ngIf="!menuOpen" stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M4 6h16M4 12h16M4 18h16" />
            <path *ngIf="menuOpen" stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>

    </div>

    <!-- MenÃº mÃ³vil desplegable -->
    <div 
      *ngIf="menuOpen"
      class="md:hidden mt-4 pb-2 space-y-2 animate-slide-down">
      
      <a 
        routerLink="/products" 
        routerLinkActive="bg-yellow-400 text-red-700" 
        (click)="toggleMenu()"
        class="block px-4 py-3 rounded-xl font-bold text-white hover:bg-yellow-400 hover:text-red-700 transition-all duration-300 border-2 border-transparent hover:border-yellow-500 shadow-lg">
        ğŸ“± Productos
      </a>

      <a 
        routerLink="/admin" 
        *ngIf="user?.role === 'admin'"
        routerLinkActive="bg-blue-500"
        (click)="toggleMenu()"
        class="block px-4 py-3 rounded-xl font-bold text-white bg-blue-600 hover:bg-blue-500 transition-all duration-300 border-2 border-blue-700 shadow-lg">
        âš™ï¸ Admin
      </a>

      <!-- Info de usuario en mÃ³vil -->
      <div *ngIf="user" class="px-4 py-3 bg-white dark:bg-gray-800 rounded-xl border-2 border-yellow-400 shadow-lg">
        <span class="font-bold text-gray-800 dark:text-white">ğŸ‘¤ {{ user.name }}</span>
      </div>
    </div>
  </div>

  <!-- LÃ­nea decorativa inferior -->
  <div class="absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-yellow-400 via-yellow-300 to-yellow-400"></div>
</nav>

<style>
@keyframes slide-down {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-slide-down {
  animation: slide-down 0.3s ease-out;
}
</style>